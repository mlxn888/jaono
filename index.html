<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>JaOno Showroom — Ride into the future!</title>
  <link rel="icon" href="favi/20251006_215432.png">
  <style>
:root{
  --bg:#070507; --panel: rgba(10,8,10,0.6); --glass: rgba(255,255,255,0.03);
  --accent-red:#ff1e1e; --accent-silver:#cfcfcf; --radius:14px; --max-w:1200px;
  --glow-red:0 8px 30px rgba(255,30,30,0.18); --transition:300ms cubic-bezier(.2,.9,.2,1);
}
*{box-sizing:border-box}
html,body{
  height:100%;margin:0;
  font-family:Inter,system-ui,Arial,sans-serif;
  background:linear-gradient(180deg,var(--bg),#0b0b0b);
  color:#fff;-webkit-font-smoothing:antialiased;
}
a{color:inherit;text-decoration:none}
.wrap{max-width:var(--max-w);margin:0 auto;padding:18px}

/* Header */
header.site-header{
  position:fixed;top:0;left:0;right:0;
  height:64px;display:flex;align-items:center;justify-content:space-between;
  padding:10px 18px;
  background:rgba(0,0,0,0.6);
  backdrop-filter: blur(8px);
  z-index:1200;
}
.brand{display:flex;align-items:center;gap:12px;font-weight:800;color:var(--accent-silver)}
.logo-dot{display: none; width:10px;height:10px;background:var(--accent-red);border-radius:50%;box-shadow:0 0 14px rgba(255,30,30,0.9)}
.header-actions{display:flex;align-items:center;gap:12px}
#search{padding:8px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);width:280px;background:transparent;color:inherit}
.menu-toggle{display:none;cursor:pointer;padding:8px;border-radius:8px}
.menu-toggle .bar{width:22px;height:2px;background:#fff;margin:4px 0;border-radius:2px}
nav.main-nav{display:flex;gap:14px;align-items:center}
nav.main-nav a{color:var(--accent-silver);padding:6px 10px;border-radius:8px}
nav.main-nav a:hover{color:#fff;background:rgba(255,255,255,0.05);box-shadow:var(--glow-red)}

/* HERO */
main{padding-top:90px}
.hero{
  height:70vh;min-height:380px;border-radius:12px;margin:18px;overflow:hidden;
  position:relative;display:flex;align-items:center;justify-content:center;text-align:left;
}
.hero .bg{position:absolute;inset:0;background:url('images/rolls-royce-3840x2160-13527.jpeg') center/cover no-repeat;filter:brightness(0.34) contrast(1.05)}
.hero .overlay{position:absolute;inset:0;background:linear-gradient(90deg,rgba(0,0,0,0.52),rgba(0,0,0,0.6))}
.hero .content{position:relative;z-index:2;padding:36px;color:var(--accent-silver);max-width:800px}
.hero h1{font-size:48px;margin:0 0 10px;color:var(--accent-red);text-shadow:0 8px 30px rgba(255,30,30,0.2)}
.hero p{color:#d0d0d0;margin-bottom:18px}
.cta-row{display:flex;gap:12px;flex-wrap:wrap}
.btn{padding:10px 16px;border-radius:12px;border:1px solid rgba(255,255,255,0.08);cursor:pointer;background:transparent;color:var(--accent-silver);transition:transform var(--transition),box-shadow var(--transition)}
.btn.primary{background:linear-gradient(90deg,var(--accent-red),#ff7b7b);color:#10060a;border:none;font-weight:800;box-shadow:0 8px 40px rgba(255,30,30,0.15)}
.btn:hover{transform:translateY(-5px)}

/* GRID + FILTERS */
.controls{margin:18px;display:flex;justify-content:center}
.filters{display:flex;flex-wrap:wrap;gap:12px;align-items:center;background:rgba(255,255,255,0.02);padding:12px;border-radius:12px}
.filters select,.filters input[type=range]{max-width:140px}
.car-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:18px;margin:12px}
.card{border-radius:12px;overflow:hidden;background:rgba(255,255,255,0.03);transition:transform .3s,box-shadow .3s}
.card:hover{transform:translateY(-8px);box-shadow:var(--glow-red)}
.card img{width:100%;height:180px;object-fit:cover}
.card .body{padding:12px}
.meta{display:flex;justify-content:space-between;align-items:center}
.price{color:var(--accent-red);font-weight:900}
.chip{padding:6px 8px;border-radius:8px;border:1px dashed rgba(255,255,255,0.1)}

/* MODAL */
.modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.7);display:none;align-items:center;justify-content:center;padding:20px;z-index:2000}
.modal{background:#0b0b0b;border-radius:12px;padding:18px;color:#eaf2ff;width:min(95%,980px);max-height:90vh;overflow:auto;box-shadow:0 30px 120px rgba(0,0,0,0.8);position:relative}
.close-modal{position:absolute;right:16px;top:12px;background:none;border:none;font-size:22px;color:#fff;cursor:pointer}
.modal-body{display:grid;grid-template-columns:1fr 380px;gap:18px}
.gallery img{width:100%;height:360px;object-fit:cover;border-radius:8px}

/* ABOUT */
.cinema{height:400px;border-radius:12px;overflow:hidden;margin:18px;position:relative}
.slides{display:flex;height:100%;transition:transform 900ms cubic-bezier(.2,.9,.2,1)}
.slide{min-width:100%;height:100%;background-size:cover;background-position:center}
.about-text{padding:18px 36px;color:#dcdcdc;background:rgba(0,0,0,0.5);border-radius:8px;margin:18px}

/* Contact / reviews */
    .contact-wrap{display:grid;grid-template-columns:1fr 420px;gap:18px;margin:18px}
    .review-list{background:rgba(255,255,255,0.02);padding:12px;border-radius:8px;max-height:320px;overflow:auto}
    .review{padding:10px;border-bottom:1px dashed rgba(255,255,255,0.03)}
    form.contact-form{display:flex;flex-direction:column;gap:10px;background:rgba(255,255,255,0.02);padding:12px;border-radius:8px}
    input,textarea,select{padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit;}

.site-footer{font-size: 12px;text-align: center;text-decoration: underline;}
/* ---------- RESPONSIVENESS ---------- */

/* Tablets */
@media(max-width:980px){
  #search{width:200px}
  .modal-body{grid-template-columns:1fr}
  .contact-wrap{grid-template-columns:1fr}
  .cinema{height:260px}
  .hero h1{font-size:34px}
}

/* Mobiles */
@media(max-width:600px){
  header.site-header{flex-wrap:wrap;height:auto;padding:12px}
  .header-actions{width:100%;justify-content:space-between;margin-top:8px}
  #search{display:none}
  nav.main-nav{display:none;position:fixed;top:64px;right:12px;background:rgba(0,0,0,0.9);padding:14px;border-radius:12px;flex-direction:column;min-width:200px;box-shadow:0 6px 30px rgba(0,0,0,0.4)}
  nav.main-nav.show{display:flex}
  .menu-toggle{display:block}
  .hero{height:60vh;text-align:center;justify-content:center}
  .hero .content{margin-left:0;padding:18px}
  .hero h1{font-size:28px}
  .hero p{font-size:15px}
  .filters{flex-direction:column;align-items:stretch}
  .cta-row{justify-content:center}
  
  input,textarea,select{width:100%;}

}
/* --- Responsive modal gallery enhancement --- */
.modal-body {
  display: grid;
  grid-template-columns: 1fr 380px;
  gap: 18px;
  align-items: start;
}

.gallery {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.gallery img {
  width: 100%;
  height: 360px;
  object-fit: cover;
  border-radius: 8px;
  transition: transform .4s ease;
}

.gallery img:hover {
  transform: scale(1.03);
}

/* Mobile layout for modal */
@media(max-width:700px){
  .modal-body {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .gallery {
    display: flex;
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch;
  }

  .gallery img {
    min-width: 90%;
    height: 260px;
    scroll-snap-align: center;
    flex-shrink: 0;
    border-radius: 10px;
  }

  .details {
    padding-bottom: 10px;
  }

  .modal {
    width: 95%;
    padding: 16px;
  }

  .close-modal {
    top: 10px;
    right: 10px;
  }
}
  </style>
</head>
<body>
  <header class="site-header">
    <div class="brand wrap"><span class="logo-dot" aria-hidden></span>JaOno Showroom</div>
    <div class="header-actions">
      <input id="search" placeholder="Search cars, e.g., Toyota, Audi..." aria-label="Search cars">
      <div class="menu-toggle" id="menu-toggle" aria-hidden>
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
      </div>
      <nav class="main-nav" id="main-nav">
        <a href="#home" data-target="home">Home</a>
        <a href="#cars" data-target="cars">Cars</a>
        <a href="#about" data-target="about">About</a>
        <a href="#contact" data-target="contact">Contact</a>
      </nav>
    </div>
  </header>

  <main class="wrap">
    <!-- HERO -->
    <section id="home" class="hero">
      <div class="bg" aria-hidden></div>
      <div class="overlay"></div>
      <div class="content">
        <h1>Ride Into the Red — Find your next statement car</h1>
        <p class="muted">Luxury. Performance. Craftsmanship. Browse our curated collection, book a test-drive and purchase securely via PayPal globally.</p>
        <div class="cta-row">
          <button class="btn primary" id="explore-btn">Explore Featured</button>
          <button class="btn" id="discover-btn">View All Cars</button>
        </div>
      </div>
    </section>

    <!-- Featured -->
    <section id="cars" class="fade-in">
      <div class="controls">
        <div class="filters">
          <select id="filter-brand"><option value="">All Brands</option><option>Toyota</option><option>Nissan</option><option>Audi</option><option>BMW</option><option>Bentley</option><option>Rolls Royce</option></select>
          <select id="filter-type"><option value="">All Types</option><option>SUV</option><option>Truck</option><option>Sport</option><option>Luxury</option></select>
          <input id="filter-price" type="range" min="3000" max="600000" step="500" value="600000">
          <div id="price-label" style="font-weight:800;color:var(--accent-red)">$600,000</div>
          <button id="clear-filters" class="btn">Clear</button>
        </div>
      </div>

      <div id="car-grid" class="car-grid" aria-live="polite"></div>
    </section>

    <!-- About (cinematic gallery) -->
    <section id="about">
      <h2 style="color:var(--accent-silver)">Why Choose Us?</h2>
      <div class="cinema" id="cinema">
        <div class="slides" id="slides">
          <div class="slide" style="background-image:url('images/toyota-gr-supra-2-0-2021-5k-3840x2160-220.jpg')"></div>
          <div class="slide" style="background-image:url('images/mercedes-benz-glc-7680x4320-23975.jpg')"></div>
          <div class="slide" style="background-image:url('images/rolls-royce-phantom-3840x2160-20933.jpeg')"></div>
        </div>
      </div>
      <div class="about-text">We hand-pick each car for its story — performance, beauty and provenance. Our showroom blends modern convenience with personalized, boutique service. Schedule a private viewing or request a demo drive and we’ll handle the rest.</div>
    </section>

    <!-- Contact (interactive) -->
    <section id="contact">
      <h2 style="color:var(--accent-silver)">Contact & Reviews</h2>
      <div class="contact-wrap">
        <div>
          <h3 style="margin:8px 0">Reviews</h3>
          <div class="review-list" id="review-list" aria-live="polite"></div>
          <form id="review-form" style="margin-top:12px;display:flex;gap:8px;align-items:center;">
            <input id="rv-name" placeholder="Your name" required>
            <input id="rv-text" placeholder="Your review" style="flex:1">
            <button class="btn" type="submit">Post</button>
          </form>
        </div>

        <div>
          <h3 style="margin:8px 0">Send us a message</h3>
          <form class="contact-form" id="contact-form">
            <input id="ct-name" placeholder="Your name" required>
            <input id="ct-email" placeholder="Your email" type="email" required>
            <textarea id="ct-message" rows="6" placeholder="Message" required></textarea>
            <button class="btn primary" type="submit">Send Message</button>
            <div id="contact-result" class="muted" role="status"></div>
          </form>
        </div>
      </div>
    </section>

  </main>

  <!-- Details / Buy Modal -->
  <div id="car-modal" class="modal-backdrop" aria-hidden="true">
    <div class="modal">
      <button class="close-modal" id="close-car-modal" aria-label="Close">×</button>
      <div class="modal-body">
        <div class="gallery">
          <img id="modal-image" src="images/mercedes-benz-glc-7680x4320-23975.jpg" alt="Car image">
        </div>
        <div class="details">
          <h2 id="modal-name">Car Name</h2>
          <div class="meta" style="margin-top:8px"><div id="modal-price" class="price">$0</div><div id="modal-brand" class="chip">Brand</div></div>
          <p id="modal-desc" class="muted" style="margin-top:10px">Description</p>

          <div class="modal-actions">
            <div id="paypal-area"></div>
            <button class="btn" id="book-test">Book Test-drive</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <footer class="site-footer">© 2026 JaOno Showroom • Ride To The Future!</footer>

  <!-- PayPal SDK (sandbox demo client-id=sb) -->
  <script src="https://www.paypal.com/sdk/js?client-id=sb&currency=USD"></script>

  <script>
    // --- Data ---
    const CARS = [
      { id: 'c1', name: 'Toyota 4Runner', price: 105000, brand: 'Toyota', type: 'SUV', desc: 'Zero-mileage 4Runner — rugged, reliable, ready to explore.', images: ['images/toyota-4runner-3840x2160-16238.jpg'] },
      { id: 'c2', name: 'Toyota LandCruiser Off-roader', price: 120000, brand: 'Toyota', type: 'SUV', desc: 'Legendary off-road capability and premium comfort.', images: ['images/toyota-land-cruiser-3840x2160-19785.jpg'] },
      { id: 'c3', name: 'Nissan Frontier', price: 30000, brand: 'Nissan', type: 'Truck', desc: 'Durable and powerful — perfect for heavy duty.', images: ['images/nissan-frontier-3840x2160-13040.jpg'] },
      { id: 'c4', name: 'Audi R8 (V10)', price: 160000, brand: 'Audi', type: 'Sport', desc: 'High-performance supercar with impeccable style.', images: ['images/audi-r8-v10-performance-rwd-2022-5k-8k-3840x2160-8227.jpeg'] },
      { id: 'c5', name: 'BMW 530i', price: 60000, brand: 'BMW', type: 'Luxury', desc: 'Sleek executive sedan — comfort and handling combined.', images: ['images/bmw-530i-matte-3840x2160-17501.jpg'] },
      { id: 'c6', name: 'Bentley Flying Spur', price: 294000, brand: 'Bentley', type: 'Luxury', desc: 'Ultra-luxury with handcrafted details.', images: ['images/bentley-flying-spur-3840x2160-20010.jpg'] },
      { id: 'c7', name: 'Rolls Royce Phantom', price: 540000, brand: 'Rolls Royce', type: 'Luxury', desc: 'Legendary Quiet V12 .', images: ['images/rolls-royce-phantom-3840x2160-23258.jpg'] },
    ];

    // state
    let filtered = [...CARS];
    let currentIndex = 0;
    const wishKey = 'mlxn_wishlist';
    let wishlist = JSON.parse(localStorage.getItem(wishKey) || '[]');

    // elements
    const grid = document.getElementById('car-grid');
    const searchEl = document.getElementById('search');
    const brandEl = document.getElementById('filter-brand');
    const typeEl = document.getElementById('filter-type');
    const priceEl = document.getElementById('filter-price');
    const priceLabel = document.getElementById('price-label');
    const clearBtn = document.getElementById('clear-filters');

    function money(n){ return '$' + Number(n).toLocaleString(); }

    function renderGrid(list){
      grid.innerHTML = '';
      if(!list.length){ grid.innerHTML = `<p class="muted">No cars found.</p>`; return; }
      list.forEach((c, i)=>{
        const el = document.createElement('article');
        el.className = 'card fade-in';
        el.innerHTML = `
          <img src="${c.images[0]}" alt="${c.name}">
          <div class="body">
            <h3>${c.name}</h3>
            <div class="meta"><div class="price">${money(c.price)}</div><div class="chip">${c.brand}</div></div>
            <p class="muted" style="margin-top:6px;color:#d2d2d2">${c.desc}</p>
            <div class="actions">
              <button class="btn view" data-index="${i}">View Details</button>
            </div>
          </div>
        `;
        grid.appendChild(el);
      });
      attachCardListeners();
    }

    function attachCardListeners(){
      document.querySelectorAll('.card .view').forEach(btn=>{
        btn.onclick = (e)=>{
          e.preventDefault();
          const idx = Number(btn.dataset.index);
          openModalByIndex(idx);
        };
      });
    }

    // filters
    function applyFilters(){
      const brand = brandEl.value;
      const type = typeEl.value;
      const maxPrice = Number(priceEl.value);
      filtered = CARS.filter(c=>{
        if(brand && c.brand !== brand) return false;
        if(type && c.type !== type) return false;
        if(c.price > maxPrice) return false;
        return true;
      });
      renderGrid(filtered);
    }
    priceEl.addEventListener('input', ()=> priceLabel.textContent = money(priceEl.value) );
    [brandEl, typeEl, priceEl].forEach(el => el.addEventListener('input', applyFilters));
    clearBtn.addEventListener('click', ()=>{ brandEl.value=''; typeEl.value=''; priceEl.value = priceEl.max; priceLabel.textContent = money(priceEl.max); applyFilters(); });

    // initial
    priceLabel.textContent = money(priceEl.value);
    applyFilters();

    // modal elements
    const carModal = document.getElementById('car-modal');
    const modalImage = document.getElementById('modal-image');
    const modalName = document.getElementById('modal-name');
    const modalPrice = document.getElementById('modal-price');
    const modalDesc = document.getElementById('modal-desc');
    const modalBrand = document.getElementById('modal-brand');
    const closeCarModal = document.getElementById('close-car-modal');
    const paypalArea = document.getElementById('paypal-area');

    function openModalByIndex(i){
      currentIndex = i;
      const car = filtered[i];
      if(!car) return;
      modalImage.src = car.images[0] || 'images/default.jpg';
      modalName.textContent = car.name;
      modalPrice.textContent = money(car.price);
      modalDesc.textContent = car.desc;
      modalBrand.textContent = car.brand;
      carModal.style.display = 'flex';
      carModal.setAttribute('aria-hidden','false');
      renderPayPalButton(car);
    }
    closeCarModal.onclick = ()=>{ carModal.style.display='none'; carModal.setAttribute('aria-hidden','true'); paypalArea.innerHTML = ''; };
    carModal.onclick = (e)=>{ if(e.target === carModal){ carModal.style.display='none'; carModal.setAttribute('aria-hidden','true'); paypalArea.innerHTML = ''; } };

    // PayPal rendering (demo sandbox client-id=sb)
    function renderPayPalButton(car){
      paypalArea.innerHTML = '';
      const info = document.createElement('div');
      info.style.marginBottom = '10px';
      info.innerHTML = `<div style="font-weight:700;margin-bottom:6px">Buy ${car.name} — ${money(car.price)}</div>`;
      paypalArea.appendChild(info);

      const container = document.createElement('div');
      container.id = 'paypal-button-container';
      paypalArea.appendChild(container);

      // render PayPal button using SDK already loaded
      if(typeof paypal === 'undefined'){
        const notice = document.createElement('div');
        notice.textContent = 'PayPal SDK not loaded.';
        paypalArea.appendChild(notice);
        return;
      }

      paypal.Buttons({
        style: { layout: 'vertical', color: 'silver', shape: 'rect', label: 'pay' },
        createOrder: function(data, actions){
          return actions.order.create({
            purchase_units: [{ amount: { value: String(car.price), currency_code: 'USD' }, description: car.name }]
          });
        },
        onApprove: function(data, actions){
          return actions.order.capture().then(function(details){
            // success
            alert('Payment completed (demo). Thank you, ' + (details.payer.name?.given_name || 'customer') + '!');
            carModal.style.display='none'; carModal.setAttribute('aria-hidden','true');
          });
        },
        onError: function(err){
          console.error('PayPal error', err);
          alert('Payment failed. See console for details.');
        }
      }).render('#paypal-button-container');
    }

    // Mobile menu toggling & smooth anchor nav
    const menuToggle = document.getElementById('menu-toggle');
    const mainNav = document.getElementById('main-nav');
    menuToggle.addEventListener('click', ()=> mainNav.classList.toggle('show'));
    document.querySelectorAll('nav.main-nav a').forEach(a=> a.addEventListener('click', (e)=>{ e.preventDefault(); const t = document.getElementById(a.dataset.target); if(t) t.scrollIntoView({behavior:'smooth', block:'start'}); mainNav.classList.remove('show'); }));

    // Explore buttons
    document.getElementById('explore-btn').onclick = ()=> document.getElementById('car-grid').scrollIntoView({behavior:'smooth'});
    document.getElementById('discover-btn').onclick = ()=> document.getElementById('car-grid').scrollIntoView({behavior:'smooth'});

    // Cinematic about slideshow
    const slides = document.getElementById('slides');
    let slideIndex = 0;
    function nextSlide(){ slideIndex = (slideIndex+1) % slides.children.length; slides.style.transform = `translateX(-${slideIndex*100}%)`; }
    setInterval(nextSlide, 4500);

    // Reviews (localStorage)
    const reviewList = document.getElementById('review-list');
    const reviewForm = document.getElementById('review-form');
    const REV_KEY = 'jaono_reviews_v1';
    let reviews = JSON.parse(localStorage.getItem(REV_KEY) || '[]');
    function renderReviews(){ reviewList.innerHTML = ''; if(!reviews.length) reviewList.innerHTML = '<div class="muted">No reviews yet — be  the first!</div>'; reviews.slice().reverse().forEach(r=>{ const el = document.createElement('div'); el.className='review'; el.innerHTML = `<strong>${escapeHtml(r.name)}</strong><div style="font-size:0.95rem;margin-top:6px">${escapeHtml(r.text)}</div><div class="muted" style="font-size:0.8rem;margin-top:8px">${new Date(r.ts).toLocaleString()}</div>`; reviewList.appendChild(el); }); }
    reviewForm.addEventListener('submit', (e)=>{ e.preventDefault(); const name = document.getElementById('rv-name').value.trim(); const text = document.getElementById('rv-text').value.trim(); if(!name||!text) return; reviews.push({name,text,ts:Date.now()}); localStorage.setItem(REV_KEY, JSON.stringify(reviews)); document.getElementById('rv-name').value=''; document.getElementById('rv-text').value=''; renderReviews(); });
    renderReviews();

    // Contact form (simulate send)
    const contactForm = document.getElementById('contact-form');
    const contactResult = document.getElementById('contact-result');
    contactForm.addEventListener('submit', (e)=>{ e.preventDefault(); const name = document.getElementById('ct-name').value.trim(); const email = document.getElementById('ct-email').value.trim(); const msg = document.getElementById('ct-message').value.trim(); if(!name||!email||!msg){ contactResult.textContent = 'Please complete all fields.'; return; } contactResult.textContent = 'Sending...'; setTimeout(()=>{ contactResult.textContent = 'Message sent (demo). We will reply to ' + email + '.'; contactForm.reset(); }, 900);
    });

    // Very small HTML escape helper
    function escapeHtml(s){ return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

    // Accessibility: close modals with Escape
    document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape'){ if(carModal.style.display === 'flex'){ carModal.style.display='none'; carModal.setAttribute('aria-hidden','true'); paypalArea.innerHTML=''; } } });

    // Parallax subtle effect for hero/bg on scroll
    window.addEventListener('scroll', ()=>{ const heroBg = document.querySelector('.hero .bg'); const rect = document.querySelector('.hero').getBoundingClientRect(); if(rect.top < 0) heroBg.style.transform = 'scale(1.04)'; else heroBg.style.transform = 'scale(1.02)'; });


   

// Mobile gallery swipe scrolling (smooth touch behavior)
const gallery = document.querySelector('.gallery');
if (gallery) {
  let isDown = false, startX, scrollLeft;

  gallery.addEventListener('mousedown', (e)=>{
    isDown = true;
    startX = e.pageX - gallery.offsetLeft;
    scrollLeft = gallery.scrollLeft;
  });

  gallery.addEventListener('mouseleave', ()=> isDown = false);
  gallery.addEventListener('mouseup', ()=> isDown = false);
  gallery.addEventListener('mousemove', (e)=>{
    if(!isDown) return;
    e.preventDefault();
    const x = e.pageX - gallery.offsetLeft;
    const walk = (x - startX) * 2; // scroll speed
    gallery.scrollLeft = scrollLeft - walk;
  });
}
  </script>
</body>
</html>